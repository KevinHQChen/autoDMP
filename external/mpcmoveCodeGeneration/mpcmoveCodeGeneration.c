/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 *
 * mpcmoveCodeGeneration.c
 *
 * Code generation for function 'mpcmoveCodeGeneration'
 *
 */

/* Include files */
#include "mpcmoveCodeGeneration.h"
#include "mpcmoveCodeGeneration_types.h"
#include "qpkwik.h"
#include "rt_nonfinite.h"
#include <string.h>

/* Function Definitions */
void mpcmoveCodeGeneration(struct4_T *statedata, const struct5_T *onlinedata,
                           double *u, struct10_T *Info)
{
  static const double Mx[186] = {-0.0,
                                 -0.0,
                                 -0.94160371568560242,
                                 -2.7698199180261125,
                                 -5.4328638868376524,
                                 -8.88197044145271,
                                 -13.071217873443004,
                                 -17.957362145704423,
                                 -23.499680759279475,
                                 -29.659825724198196,
                                 -36.401685103488333,
                                 -43.691252630459282,
                                 -51.4965049285127,
                                 -59.787285890181671,
                                 -68.535197797948655,
                                 -77.713498793733976,
                                 -87.297006326867844,
                                 -97.262006231945023,
                                 -107.58616710828728,
                                 -118.2484596918807,
                                 -129.22908092867976,
                                 -140.5093824751452,
                                 -152.07180336786638,
                                 -163.89980661917156,
                                 -175.97781950980479,
                                 -188.29117736309573,
                                 -200.82607059761932,
                                 -213.56949486717812,
                                 -226.50920410808797,
                                 -239.63366632424479,
                                 0.0,
                                 0.0,
                                 0.94160371568560242,
                                 2.7698199180261125,
                                 5.4328638868376524,
                                 8.88197044145271,
                                 13.071217873443004,
                                 17.957362145704423,
                                 23.499680759279475,
                                 29.659825724198196,
                                 36.401685103488333,
                                 43.691252630459282,
                                 51.4965049285127,
                                 59.787285890181671,
                                 68.535197797948655,
                                 77.713498793733976,
                                 87.297006326867844,
                                 97.262006231945023,
                                 107.58616710828728,
                                 118.2484596918807,
                                 129.22908092867976,
                                 140.5093824751452,
                                 152.07180336786638,
                                 163.89980661917156,
                                 175.97781950980479,
                                 188.29117736309573,
                                 200.82607059761932,
                                 213.56949486717812,
                                 226.50920410808797,
                                 239.63366632424479,
                                 0.0,
                                 0.0,
                                 -1.0,
                                 -0.0,
                                 2.88320204615666,
                                 7.5396186096995663,
                                 13.865675475718813,
                                 21.76383778723476,
                                 31.142257894381409,
                                 41.914443737262125,
                                 53.998946565173441,
                                 67.319066864706514,
                                 81.8025774349791,
                                 97.38146261016071,
                                 113.99167268775335,
                                 131.57289267599035,
                                 150.06832452541602,
                                 169.42448205839219,
                                 189.59099785612435,
                                 210.52044140597309,
                                 232.16814785247061,
                                 254.49205673374809,
                                 277.45256012113111,
                                 301.0123596136113,
                                 325.136331670872,
                                 349.7914007986526,
                                 374.94642012858748,
                                 400.57205896135247,
                                 426.64069686709377,
                                 453.12632396078669,
                                 480.00444699247112,
                                 507.252000913301,
                                 1.0,
                                 0.0,
                                 -2.88320204615666,
                                 -7.5396186096995663,
                                 -13.865675475718813,
                                 -21.76383778723476,
                                 -31.142257894381409,
                                 -41.914443737262125,
                                 -53.998946565173441,
                                 -67.319066864706514,
                                 -81.8025774349791,
                                 -97.38146261016071,
                                 -113.99167268775335,
                                 -131.57289267599035,
                                 -150.06832452541602,
                                 -169.42448205839219,
                                 -189.59099785612435,
                                 -210.52044140597309,
                                 -232.16814785247061,
                                 -254.49205673374809,
                                 -277.45256012113111,
                                 -301.0123596136113,
                                 -325.136331670872,
                                 -349.7914007986526,
                                 -374.94642012858748,
                                 -400.57205896135247,
                                 -426.64069686709377,
                                 -453.12632396078669,
                                 -480.00444699247112,
                                 -507.252000913301,
                                 0.0,
                                 0.0,
                                 -0.0,
                                 -1.0,
                                 -2.9415983304710576,
                                 -5.7697986916734543,
                                 -9.4328115888811581,
                                 -13.881867345782045,
                                 -19.071040020938394,
                                 -24.957081591557696,
                                 -31.499265805893963,
                                 -38.659241140508314,
                                 -46.400892331490766,
                                 -54.69020997970145,
                                 -63.495167759240658,
                                 -72.785606785808682,
                                 -82.533126727467362,
                                 -92.710983264658182,
                                 -103.29399152925646,
                                 -114.258435174028,
                                 -125.58198074418323,
                                 -137.24359704186725,
                                 -149.22347919245118,
                                 -161.50297713846589,
                                 -174.06452830300537,
                                 -186.89159417948076,
                                 -199.96860061878238,
                                 -213.28088159825649,
                                 -226.81462626947416,
                                 -240.55682909360826,
                                 -254.49524288438289,
                                 -268.61833458905585,
                                 0.0,
                                 1.0,
                                 2.9415983304710576,
                                 5.7697986916734543,
                                 9.4328115888811581,
                                 13.881867345782045,
                                 19.071040020938394,
                                 24.957081591557696,
                                 31.499265805893963,
                                 38.659241140508314,
                                 46.400892331490766,
                                 54.69020997970145,
                                 63.495167759240658,
                                 72.785606785808682,
                                 82.533126727467362,
                                 92.710983264658182,
                                 103.29399152925646,
                                 114.258435174028,
                                 125.58198074418323,
                                 137.24359704186725,
                                 149.22347919245118,
                                 161.50297713846589,
                                 174.06452830300537,
                                 186.89159417948076,
                                 199.96860061878238,
                                 213.28088159825649,
                                 226.81462626947416,
                                 240.55682909360826,
                                 254.49524288438289,
                                 268.61833458905585,
                                 0.0,
                                 0.0};
  static const double Ac[124] = {-0.0022860040390866353,
                                 -0.0089632867557755715,
                                 -0.019772110253757254,
                                 -0.034467882115528731,
                                 -0.052820272279889849,
                                 -0.074612381413706352,
                                 -0.099639957775344679,
                                 -0.12771065974226223,
                                 -0.1586433613401077,
                                 -0.19226749826594264,
                                 -0.2284224520444002,
                                 -0.26695697009327546,
                                 -0.30772861960469333,
                                 -0.35060327327008983,
                                 -0.39545462499221773,
                                 -0.44216373383565222,
                                 -0.4906185945692294,
                                 -0.54071373324986083,
                                 -0.59234982638757716,
                                 -0.64543334231679883,
                                 -0.69987620347899893,
                                 -0.75559546839743463,
                                 -0.81251303219571258,
                                 -0.87055534457891048,
                                 -0.92965314425902756,
                                 -0.98974120886590389,
                                 -1.0507581194406621,
                                 -1.1126460386613746,
                                 -1.17535050200024,
                                 -1.2388202210582433,
                                 0.0022860040390866353,
                                 0.0089632867557755715,
                                 0.019772110253757254,
                                 0.034467882115528731,
                                 0.052820272279889849,
                                 0.074612381413706352,
                                 0.099639957775344679,
                                 0.12771065974226223,
                                 0.1586433613401077,
                                 0.19226749826594264,
                                 0.2284224520444002,
                                 0.26695697009327546,
                                 0.30772861960469333,
                                 0.35060327327008983,
                                 0.39545462499221773,
                                 0.44216373383565222,
                                 0.4906185945692294,
                                 0.54071373324986083,
                                 0.59234982638757716,
                                 0.64543334231679883,
                                 0.69987620347899893,
                                 0.75559546839743463,
                                 0.81251303219571258,
                                 0.87055534457891048,
                                 0.92965314425902756,
                                 0.98974120886590389,
                                 1.0507581194406621,
                                 1.1126460386613746,
                                 1.17535050200024,
                                 1.2388202210582433,
                                 -1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 1.0,
                                 0.0,
                                 0.0};
  static const double Sx[90] = {0.0,
                                0.0,
                                0.94160371568560242,
                                2.7698199180261125,
                                5.4328638868376524,
                                8.88197044145271,
                                13.071217873443004,
                                17.957362145704423,
                                23.499680759279475,
                                29.659825724198196,
                                36.401685103488333,
                                43.691252630459282,
                                51.4965049285127,
                                59.787285890181671,
                                68.535197797948655,
                                77.713498793733976,
                                87.297006326867844,
                                97.262006231945023,
                                107.58616710828728,
                                118.2484596918807,
                                129.22908092867976,
                                140.5093824751452,
                                152.07180336786638,
                                163.89980661917156,
                                175.97781950980479,
                                188.29117736309573,
                                200.82607059761932,
                                213.56949486717812,
                                226.50920410808797,
                                239.63366632424479,
                                1.0,
                                0.0,
                                -2.88320204615666,
                                -7.5396186096995663,
                                -13.865675475718813,
                                -21.76383778723476,
                                -31.142257894381409,
                                -41.914443737262125,
                                -53.998946565173441,
                                -67.319066864706514,
                                -81.8025774349791,
                                -97.38146261016071,
                                -113.99167268775335,
                                -131.57289267599035,
                                -150.06832452541602,
                                -169.42448205839219,
                                -189.59099785612435,
                                -210.52044140597309,
                                -232.16814785247061,
                                -254.49205673374809,
                                -277.45256012113111,
                                -301.0123596136113,
                                -325.136331670872,
                                -349.7914007986526,
                                -374.94642012858748,
                                -400.57205896135247,
                                -426.64069686709377,
                                -453.12632396078669,
                                -480.00444699247112,
                                -507.252000913301,
                                0.0,
                                1.0,
                                2.9415983304710576,
                                5.7697986916734543,
                                9.4328115888811581,
                                13.881867345782045,
                                19.071040020938394,
                                24.957081591557696,
                                31.499265805893963,
                                38.659241140508314,
                                46.400892331490766,
                                54.69020997970145,
                                63.495167759240658,
                                72.785606785808682,
                                82.533126727467362,
                                92.710983264658182,
                                103.29399152925646,
                                114.258435174028,
                                125.58198074418323,
                                137.24359704186725,
                                149.22347919245118,
                                161.50297713846589,
                                174.06452830300537,
                                186.89159417948076,
                                199.96860061878238,
                                213.28088159825649,
                                226.81462626947416,
                                240.55682909360826,
                                254.49524288438289,
                                268.61833458905585};
  static const double Mu1[62] = {-0.0022860040390866353,
                                 -0.0089632867557755715,
                                 -0.019772110253757254,
                                 -0.034467882115528731,
                                 -0.052820272279889849,
                                 -0.074612381413706352,
                                 -0.099639957775344679,
                                 -0.12771065974226223,
                                 -0.1586433613401077,
                                 -0.19226749826594264,
                                 -0.2284224520444002,
                                 -0.26695697009327546,
                                 -0.30772861960469333,
                                 -0.35060327327008983,
                                 -0.39545462499221773,
                                 -0.44216373383565222,
                                 -0.4906185945692294,
                                 -0.54071373324986083,
                                 -0.59234982638757716,
                                 -0.64543334231679883,
                                 -0.69987620347899893,
                                 -0.75559546839743463,
                                 -0.81251303219571258,
                                 -0.87055534457891048,
                                 -0.92965314425902756,
                                 -0.98974120886590389,
                                 -1.0507581194406621,
                                 -1.1126460386613746,
                                 -1.17535050200024,
                                 -1.2388202210582433,
                                 0.0022860040390866353,
                                 0.0089632867557755715,
                                 0.019772110253757254,
                                 0.034467882115528731,
                                 0.052820272279889849,
                                 0.074612381413706352,
                                 0.099639957775344679,
                                 0.12771065974226223,
                                 0.1586433613401077,
                                 0.19226749826594264,
                                 0.2284224520444002,
                                 0.26695697009327546,
                                 0.30772861960469333,
                                 0.35060327327008983,
                                 0.39545462499221773,
                                 0.44216373383565222,
                                 0.4906185945692294,
                                 0.54071373324986083,
                                 0.59234982638757716,
                                 0.64543334231679883,
                                 0.69987620347899893,
                                 0.75559546839743463,
                                 0.81251303219571258,
                                 0.87055534457891048,
                                 0.92965314425902756,
                                 0.98974120886590389,
                                 1.0507581194406621,
                                 1.1126460386613746,
                                 1.17535050200024,
                                 1.2388202210582433,
                                 -1.0,
                                 1.0};
  static const double Su1[30] = {
      0.0022860040390866353, 0.0089632867557755715, 0.019772110253757254,
      0.034467882115528731,  0.052820272279889849,  0.074612381413706352,
      0.099639957775344679,  0.12771065974226223,   0.1586433613401077,
      0.19226749826594264,   0.2284224520444002,    0.26695697009327546,
      0.30772861960469333,   0.35060327327008983,   0.39545462499221773,
      0.44216373383565222,   0.4906185945692294,    0.54071373324986083,
      0.59234982638757716,   0.64543334231679883,   0.69987620347899893,
      0.75559546839743463,   0.81251303219571258,   0.87055534457891048,
      0.92965314425902756,   0.98974120886590389,   1.0507581194406621,
      1.1126460386613746,    1.17535050200024,      1.2388202210582433};
  static const double dv[30] = {
      -4.1872543045208995E-5,  -0.00016417976700413894, -0.00036216407475196617,
      -0.00063134528762088908, -0.00096750446931976176, -0.0013666686930698677,
      -0.0018250966969585519,  -0.0023392653757193346,  -0.0029058570601670553,
      -0.003521747538360417,   -0.0041839947752423251,  -0.0048898282900302495,
      -0.0056366391530036719,  -0.00642197056557197,    -0.0072435089896121015,
      -0.0080990757940485048,  -0.0089866193885151918,  -0.0099042078156986128,
      -0.010850021775615903,   -0.011822348056642711,   -0.012819573349573248,
      -0.013840178422378275,   -0.014882732634628948,   -0.015945888771780818,
      -0.017028378180667231,   -0.018129006188638729,   -0.019246647789809324,
      -0.020380243582834731,   -0.021528795945556022,   -0.022691365432697182};
  static const double b_A[9] = {0.0, 0.0, 0.94160371568560242,
                                1.0, 0.0, -2.88320204615666,
                                0.0, 1.0, 2.9415983304710576};
  static const double Hinv[4] = {1.3162193482371918, 0.0, 0.0,
                                 9.9999999999999974E-6};
  static const double Linv[4] = {1.1472660320244785, 0.0, 0.0,
                                 0.003162277660168379};
  static const double b_a[3] = {0.0022860040390866353, 0.0066772827166889353,
                                0.010808823497981681};
  static const double c_a[3] = {0.054242813414623378, 0.055558495363181734,
                                0.056800227244323036};
  static const signed char A[900] = {
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
      0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,
      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1,
      1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1};
  static const signed char Mlim[62] = {
      100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
      100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
      100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
      100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
      100, 100, 100, 100, 100, 100, 100, 100, 40,  40};
  static const signed char Mrows[62] = {
      1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15, 16,
      17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32,
      33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48,
      49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 91};
  static const signed char Jm[30] = {1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                                     0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                                     0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
  double xopt[93];
  double Bc[62];
  double uopt[31];
  double yopt[31];
  double r[30];
  double f[2];
  double zopt[2];
  double d;
  double d1;
  double umax_incr;
  double umin_incr;
  double x_idx_0;
  double x_idx_1;
  double x_idx_2;
  double xk_idx_0;
  double xk_idx_1;
  double y_innov;
  double ymax_incr;
  double ymin_incr;
  int b_j1;
  int i1;
  int kidx;
  signed char a[900];
  boolean_T umax_incr_flag;
  boolean_T umin_incr_flag;
  boolean_T ymax_incr_flag;
  boolean_T ymin_incr_flag;
  memset(&r[0], 0, 30U * sizeof(double));
  r[0] = onlinedata->signals.ref;
  for (kidx = 0; kidx < 29; kidx++) {
    r[kidx + 1] = onlinedata->signals.ref;
  }
  d = statedata->Plant[0];
  xk_idx_0 = d;
  ymax_incr = d;
  d = statedata->Plant[1];
  xk_idx_1 = d;
  ymax_incr += 0.0 * d;
  d = statedata->Plant[2];
  ymax_incr += 0.0 * d;
  y_innov = onlinedata->signals.ym - ymax_incr;
  x_idx_0 = xk_idx_0 + 0.052848602695344415 * y_innov;
  x_idx_1 = xk_idx_1 + 0.054242813414501434 * y_innov;
  x_idx_2 = d + 0.055558495363055904 * y_innov;
  Info->Cost = 0.0;
  memset(&uopt[0], 0, 31U * sizeof(double));
  ymax_incr_flag = false;
  ymax_incr = 0.0;
  ymin_incr_flag = false;
  ymin_incr = 0.0;
  umax_incr_flag = false;
  umax_incr = 0.0;
  umin_incr_flag = false;
  umin_incr = 0.0;
  for (kidx = 0; kidx < 62; kidx++) {
    signed char b_i1;
    signed char i;
    i = Mlim[kidx];
    d1 = -((((Mx[kidx] * x_idx_0 + Mx[kidx + 62] * x_idx_1) +
             Mx[kidx + 124] * x_idx_2) +
            (double)i) +
           Mu1[kidx] * statedata->LastMove);
    Bc[kidx] = d1;
    b_i1 = Mrows[kidx];
    if (b_i1 <= 30) {
      if (!ymax_incr_flag) {
        ymax_incr = -onlinedata->limits.ymax - (-(double)i);
      }
      ymax_incr_flag = true;
      d1 += ymax_incr;
      Bc[kidx] = d1;
    } else if (b_i1 <= 60) {
      if (!ymin_incr_flag) {
        ymin_incr = onlinedata->limits.ymin - (-(double)i);
      }
      ymin_incr_flag = true;
      d1 += ymin_incr;
      Bc[kidx] = d1;
    } else if (b_i1 <= 90) {
      if (!umax_incr_flag) {
        umax_incr = -onlinedata->limits.umax - (-(double)i);
      }
      umax_incr_flag = true;
      d1 += umax_incr;
      Bc[kidx] = d1;
    } else {
      if (!umin_incr_flag) {
        umin_incr = onlinedata->limits.umin - (-(double)i);
      }
      umin_incr_flag = true;
      d1 += umin_incr;
      Bc[kidx] = d1;
    }
  }
  f[1] = 0.0;
  d1 = 0.0;
  for (i1 = 0; i1 < 30; i1++) {
    d1 += dv[i1] * r[i1];
  }
  double a__1[62];
  f[0] = (((40.157363352160928 * x_idx_0 + -85.7561051475297 * x_idx_1) +
           45.867398521777261 * x_idx_2) +
          d1) +
         0.21380834079331812 * statedata->LastMove;
  qpkwik(Linv, Hinv, f, Ac, Bc, statedata->iA, zopt, a__1, &kidx);
  if ((kidx < 0) || (kidx == 0)) {
    zopt[0] = 0.0;
    zopt[1] = 0.0;
  }
  Info->Iterations = kidx;
  Info->Slack = zopt[1];
  *u = statedata->LastMove + zopt[0];
  if (kidx > 0) {
    ymax_incr = 0.0;
    ymin_incr = 0.0;
    d1 = statedata->LastMove;
    for (i1 = 0; i1 < 30; i1++) {
      umax_incr = (((Sx[i1] * x_idx_0 + Sx[i1 + 30] * x_idx_1) +
                    Sx[i1 + 60] * x_idx_2) +
                   Su1[i1] * statedata->LastMove) -
                  r[i1];
      r[i1] = d1;
      ymax_incr += d1 * (0.0 * d1);
      ymin_incr += umax_incr * (0.018316915599999997 * umax_incr);
    }
    Info->Cost = (ymax_incr + ymin_incr) +
                 (zopt[0] * ((0.7597517855510153 * zopt[0] + 0.0 * zopt[1]) +
                             2.0 * f[0]) +
                  zopt[1] * (0.0 * zopt[0] + 100000.0 * zopt[1]));
  }
  kidx = -1;
  for (b_j1 = 0; b_j1 < 30; b_j1++) {
    for (i1 = 0; i1 < 30; i1++) {
      a[(kidx + i1) + 1] = A[i1 + 30 * b_j1];
    }
    kidx += 30;
  }
  for (i1 = 0; i1 < 30; i1++) {
    d1 = 0.0;
    for (kidx = 0; kidx < 30; kidx++) {
      d1 += (double)(a[i1 + 30 * kidx] * Jm[kidx]);
    }
    uopt[i1] = d1 * zopt[0] + statedata->LastMove;
  }
  uopt[30] = uopt[29];
  for (i1 = 0; i1 < 31; i1++) {
    Info->Topt[i1] = 0.025 * (double)i1;
  }
  memcpy(&r[0], &uopt[0], 30U * sizeof(double));
  for (kidx = 0; kidx < 31; kidx++) {
    xopt[kidx] = x_idx_0;
    xopt[kidx + 31] = x_idx_1;
    xopt[kidx + 62] = x_idx_2;
    yopt[kidx] = (x_idx_0 + 0.0 * x_idx_1) + 0.0 * x_idx_2;
    if (kidx < 30) {
      double c_A[3];
      for (i1 = 0; i1 < 3; i1++) {
        c_A[i1] = ((b_A[i1] * x_idx_0 + b_A[i1 + 3] * x_idx_1) +
                   b_A[i1 + 6] * x_idx_2) +
                  b_a[i1] * r[kidx];
      }
      x_idx_0 = c_A[0];
      x_idx_1 = c_A[1];
      x_idx_2 = c_A[2];
    }
  }
  memcpy(&Info->Xopt[0], &xopt[0], 93U * sizeof(double));
  memcpy(&Info->Yopt[0], &yopt[0], 31U * sizeof(double));
  memcpy(&Info->Uopt[0], &uopt[0], 31U * sizeof(double));
  for (i1 = 0; i1 < 3; i1++) {
    statedata->Plant[i1] =
        (((b_A[i1] * xk_idx_0 + b_A[i1 + 3] * xk_idx_1) + b_A[i1 + 6] * d) +
         b_a[i1] * *u) +
        c_a[i1] * y_innov;
  }
  statedata->LastMove = *u;
}

/* End of code generation (mpcmoveCodeGeneration.c) */
